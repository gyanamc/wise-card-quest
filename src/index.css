@tailwind base;
@tailwind components;
@tailwind utilities;

/* Definition of the design system. All colors, gradients, fonts, etc should be defined here. 
All colors MUST be HSL.
*/

@layer base {
  :root {
    /* Warm, minimalist color palette with beige/peach tones */
    --background: 36 33% 98%;
    --foreground: 20 14% 14%;

    --card: 36 33% 98%;
    --card-foreground: 20 14% 14%;

    --popover: 36 33% 98%;
    --popover-foreground: 20 14% 14%;

    --primary: 24 70% 52%;
    --primary-foreground: 36 33% 98%;

    --secondary: 32 25% 92%;
    --secondary-foreground: 20 14% 14%;

    --muted: 32 25% 92%;
    --muted-foreground: 25 5% 45%;

    --accent: 25 100% 85%;
    --accent-foreground: 20 14% 14%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 36 33% 98%;

    --border: 32 25% 88%;
    --input: 32 25% 88%;
    --ring: 24 70% 52%;

    --radius: 0.75rem;

    /* Sidebar warm theme */
    --sidebar-background: 35 30% 96%;
    --sidebar-foreground: 20 14% 14%;
    --sidebar-primary: 24 70% 52%;
    --sidebar-primary-foreground: 36 33% 98%;
    --sidebar-accent: 32 25% 90%;
    --sidebar-accent-foreground: 20 14% 14%;
    --sidebar-border: 32 25% 85%;
    --sidebar-ring: 24 70% 52%;

    /* Custom chat interface colors */
    --chat-user-bg: 24 70% 52%;
    --chat-user-fg: 36 33% 98%;
    --chat-ai-bg: 32 25% 92%;
    --chat-ai-fg: 20 14% 14%;
    --chat-gradient: linear-gradient(135deg, hsl(36 33% 98%), hsl(32 25% 94%));
  }

  .dark {
    /* Dark theme with warm undertones */
    --background: 20 14% 8%;
    --foreground: 36 33% 95%;

    --card: 20 14% 10%;
    --card-foreground: 36 33% 95%;

    --popover: 20 14% 10%;
    --popover-foreground: 36 33% 95%;

    --primary: 24 70% 65%;
    --primary-foreground: 20 14% 8%;

    --secondary: 20 14% 15%;
    --secondary-foreground: 36 33% 95%;

    --muted: 20 14% 15%;
    --muted-foreground: 25 5% 60%;

    --accent: 20 14% 15%;
    --accent-foreground: 36 33% 95%;

    --destructive: 0 62% 50%;
    --destructive-foreground: 36 33% 95%;

    --border: 20 14% 18%;
    --input: 20 14% 18%;
    --ring: 24 70% 65%;

    /* Dark sidebar */
    --sidebar-background: 20 14% 10%;
    --sidebar-foreground: 36 33% 95%;
    --sidebar-primary: 24 70% 65%;
    --sidebar-primary-foreground: 20 14% 8%;
    --sidebar-accent: 20 14% 15%;
    --sidebar-accent-foreground: 36 33% 95%;
    --sidebar-border: 20 14% 18%;
    --sidebar-ring: 24 70% 65%;

    /* Dark chat colors */
    --chat-user-bg: 24 70% 65%;
    --chat-user-fg: 20 14% 8%;
    --chat-ai-bg: 20 14% 15%;
    --chat-ai-fg: 36 33% 95%;
    --chat-gradient: linear-gradient(135deg, hsl(20 14% 8%), hsl(20 14% 12%));
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: 'Playfair Display', serif;
  }
}

/* Add Google Fonts */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap');

/* Chat interface styles */
.chat-gradient {
  background: var(--chat-gradient);
}

/* Markdown content styling */
.markdown-content {
  @apply prose prose-slate max-w-none;
}

.markdown-content h1,
.markdown-content h2,
.markdown-content h3,
.markdown-content h4,
.markdown-content h5,
.markdown-content h6 {
  font-family: 'Playfair Display', serif;
  @apply text-foreground;
}

.markdown-content table {
  @apply border-collapse border border-border rounded-lg overflow-hidden;
}

.markdown-content th {
  @apply bg-muted text-foreground font-semibold p-3 text-left;
}

.markdown-content td {
  @apply p-3 border-t border-border;
}

.markdown-content tr:nth-child(even) {
  @apply bg-muted/30;
}

.markdown-content pre {
  @apply relative rounded-lg border border-border bg-muted/50 p-4;
}

.markdown-content code {
  @apply text-sm font-mono;
}

.markdown-content blockquote {
  @apply border-l-4 border-primary pl-4 italic text-muted-foreground;
}

/* Chat container layout for pinned input and scrollable messages */
  .chat-container {
  display: flex;
  flex-direction: column;
  flex: 1;
  min-height: 0;
}
  
  .chat-messages {
  flex: 1;
  overflow-y: auto;
  overscroll-behavior: contain;
  scroll-behavior: smooth;
}

/* Container fills viewport; input stays at bottom */
.chat-container {
  display: flex;
  flex-direction: column;
  height: 100vh;
  min-height: 0;
  overflow: hidden;            /* Prevent outer scrolling */
}

/* Header & footer have natural height */
.header,
.chat-input-container {
  flex-shrink: 0;
}

/* Messages occupy remaining space with its own scroll */
.chat-messages {
  flex: 1 1 0;
  min-height: 0;               /* Allow proper flexbox calculation */
  overflow-y: auto;
  overscroll-behavior: contain;
}

/* Inner wrapper to apply padding/margins */
.messages-inner {
  padding: 1rem;               /* Or whatever your spacing is */
}

